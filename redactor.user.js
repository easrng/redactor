// ==UserScript==
// @name        Redactor
// @namespace   https://easrng.net
// @match       *://*/*
// @grant       GM_registerMenuCommand
// @version     1.0
// @author      easrng
// @description A userscript for redacting things
// @downloadURL https://easrng.github.io/redactor/redactor.user.js
// @run-at      document-end
// ==/UserScript==
!function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==R||!(n!=m||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=m||!e[t])}function n(e,t){return typeof e[t]!=v}function r(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}function o(e){return e&&y(e,S)&&T(e,E)}function i(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(t){typeof console!=v&&e(console,"log")&&console.log(t)}function s(e,t){D&&t?alert(e):a(e)}function c(e){x.initialized=!0,x.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,x.config.alertOnFail)}function d(e){return e.message||e.description||String(e)}function f(){if(D&&!x.initialized){var t,n=!1,r=!1;e(document,"createRange")&&(t=document.createRange(),y(t,N)&&T(t,C)&&(n=!0));var s=i(document);if(s&&"body"==s.nodeName.toLowerCase())if(s&&e(s,"createTextRange")&&o(t=s.createTextRange())&&(r=!0),n||r){x.initialized=!0,x.features={implementsDomRange:n,implementsTextRange:r};var f;for(var u in _)(f=_[u])instanceof h&&f.init(f,x);for(var l=0,g=I.length;l<g;++l)try{I[l](x)}catch(e){a("Rangy init listener threw an exception. Continuing. Detail: "+d(e))}}else c("Neither Range nor TextRange are available");else c("No body element found")}}function u(e,t,n){n&&(e+=" in module "+n.name),x.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function l(e,t,n,r){e[t]=function(){return u(t,n,r),e[n].apply(e,A.toArray(arguments))}}function h(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function g(e,t,n){var r=new h(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(x,t),t.supported=!0}catch(t){a("Module '"+e+"' failed to load: "+d(t)),t.stack&&a(t.stack)}}});return _[e]=r,r}function p(){}var m="object",R="function",v="undefined",C=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],N=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],E=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],y=r(e),w=r(t),T=r(n),O=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)},_={},D=typeof window!=v&&typeof document!=v,A={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:y,areHostObjects:w,areHostProperties:T,isTextRange:o,getBody:i,forEach:O},x={version:"1.3.0",initialized:!1,isBrowser:D,supported:!0,util:A,features:{},modules:_,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v||rangyAutoInitialize}};x.fail=c,x.warn=function(e){s("Rangy warning: "+e,x.config.alertOnWarn)};var b;!{}.hasOwnProperty?c("hasOwnProperty not supported"):(A.extend=b=function(e,t,n){var r,o;for(var i in t)t.hasOwnProperty(i)&&(r=e[i],o=t[i],n&&null!==r&&"object"==typeof r&&null!==o&&"object"==typeof o&&b(r,o,!0),e[i]=o);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},A.createOptions=function(e,t){var n={};return b(n,t),e&&b(n,e),n}),D||c("Rangy can only run in a browser"),function(){var e;if(D){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t}),A.toArray=e}();var P;D&&(e(document,"addEventListener")?P=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?P=function(e,t,n){e.attachEvent("on"+t,n)}:c("Document does not have required addEventListener or attachEvent method"),A.addListener=P);var I=[];A.deprecationNotice=u,A.createAliasForDeprecatedMethod=l,x.init=f,x.addInitListener=function(e){x.initialized?e(x):I.push(e)};var B=[];x.addShimListener=function(e){B.push(e)},D&&(x.shim=x.createMissingNativeApi=function(e){e=e||window,f();for(var t=0,n=B.length;t<n;++t)B[t](e)},l(x,"createMissingNativeApi","shim")),h.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,o=n.length;r<o;++r){if(t=n[r],!((e=_[t])&&e instanceof h))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){x.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){x.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},x.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=g(e,n,t);x.initialized&&x.supported&&r.init()},x.createCoreModule=function(e,t,n){g(e,t,n)},x.RangePrototype=p,x.rangePrototype=new p,x.selectionPrototype=new function(){},x.createCoreModule("DomUtil",[],function(e,t){function n(e){for(var t=0;e=e.previousSibling;)++t;return t}function r(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(S(r,n))return n;return null}function o(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function i(e,t,n){for(var r,o=n?e:e.parentNode;o;){if((r=o.parentNode)===t)return o;o=r}return null}function a(e){var t=e.nodeType;return 3==t||4==t||8==t}function s(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function c(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=R)return e.ownerDocument;if(typeof e.document!=R)return e.document;if(e.parentNode)return c(e.parentNode);throw t.createError("getDocument: no document found for node")}function d(e){var n=c(e);if(typeof n.defaultView!=R)return n.defaultView;if(typeof n.parentWindow!=R)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function f(e){if(typeof e.contentDocument!=R)return e.contentDocument;if(typeof e.contentWindow!=R)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function u(e){return e&&v.isHostMethod(e,"setTimeout")&&v.isHostObject(e,"document")}function l(e){try{return e.parentNode,!1}catch(e){return!0}}function h(e){if(!e)return"[No node]";if(y&&l(e))return"[Broken node]";if(a(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+n(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function g(e){this.root=e,this._next=e}function p(e,t){this.node=e,this.offset=t}function m(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var R="undefined",v=e.util,C=v.getBody;v.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),v.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var N=document.createElement("div");v.areHostMethods(N,["insertBefore","appendChild","cloneNode"]||!v.areHostObjects(N,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),v.isHostProperty(N,"innerHTML")||t.fail("Element is missing innerHTML property");var E=document.createTextNode("test");v.areHostMethods(E,["splitText","deleteData","insertData","appendData","cloneNode"]||!v.areHostObjects(N,["previousSibling","nextSibling","childNodes","parentNode"])||!v.areHostProperties(E,["data"]))||t.fail("Incomplete Text Node implementation");var S=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},y=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",y=l(n),e.features.crashyTextNodes=y}();var w;typeof window.getComputedStyle!=R?w=function(e,t){return d(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=R?w=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),g.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},p.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+h(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(m.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},e.dom={arrayContains:S,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==R||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:n,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:r,isAncestorOf:o,isOrIsAncestorOf:function(e,t){return o(e,t,!0)},getClosestAncestorIn:i,isCharacterDataNode:a,isTextOrCommentNode:function(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:s,splitDataNode:function(e,t,r){var o=e.cloneNode(!1);if(o.deleteData(0,t),e.deleteData(t,e.length-t),s(o,e),r)for(var i,a=0;i=r[a++];)i.node==e&&i.offset>t?(i.node=o,i.offset-=t):i.node==e.parentNode&&i.offset>n(e)&&++i.offset;return o},getDocument:c,getWindow:d,getIframeWindow:function(e){if(typeof e.contentWindow!=R)return e.contentWindow;if(typeof e.contentDocument!=R)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:f,getBody:C,isWindow:u,getContentDocument:function(e,t,n){var r;if(e?v.isHostProperty(e,"nodeType")?r=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?f(e):c(e):u(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,o,a,s){var c,d,f,u,l;if(e==a)return o===s?0:o<s?-1:1;if(c=i(a,e,!0))return o<=n(c)?-1:1;if(c=i(e,a,!0))return n(c)<s?-1:1;if(!(d=r(e,a)))throw new Error("comparePoints error: nodes have no common ancestor");if(f=e===d?d:i(e,d,!0),u=a===d?d:i(a,d,!0),f===u)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=d.firstChild;l;){if(l===f)return-1;if(l===u)return 1;l=l.nextSibling}},isBrokenNode:l,inspectNode:h,getComputedStyleProperty:w,createTestElement:function(e,t,n){var r=C(e),o=e.createElement("div");o.contentEditable=""+!!n,t&&(o.innerHTML=t);var i=r.firstChild;return i?r.insertBefore(o,i):r.appendChild(o),o},removeNode:function(e){return e.parentNode.removeChild(e)},fragmentFromNodeChildren:function(e){for(var t,n=c(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new g(e)},DomPosition:p},e.DOMException=m}),x.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(j(e,t.startContainer)||j(e,t.endContainer))}function r(e){return e.document||z(e.startContainer)}function o(e){return G(e.startContainer)}function i(e){return new k(e.parentNode,F(e))}function a(e){return new k(e.parentNode,F(e)+1)}function s(e,t,n){var r=11==e.nodeType?e.firstChild:e;return W(t)?n==t.length?H.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:V(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function c(e,t,n){if(T(e),T(t),r(t)!=r(e))throw new L("WRONG_DOCUMENT_ERR");var o=U(e.startContainer,e.startOffset,t.endContainer,t.endOffset),i=U(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?o<=0&&i>=0:o<0&&i>0}function d(e){for(var t,n,o,i=r(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(o=e.getSubtreeIterator(),n.appendChild(d(o)),o.detach()),10==n.nodeType)throw new L("HIERARCHY_REQUEST_ERR");i.appendChild(n)}return i}function f(e,t,n){var r,o;n=n||{stop:!1};for(var i,a;i=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(i))return void(n.stop=!0);if(a=e.getSubtreeIterator(),f(a,t,n),a.detach(),n.stop)return}else for(r=H.createIterator(i);o=r.next();)if(!1===t(o))return void(n.stop=!0)}function u(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(u(t=e.getSubtreeIterator()),t.detach()):e.remove()}function l(e){for(var t,n,o=r(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(l(n)),n.detach()):e.remove(),10==t.nodeType)throw new L("HIERARCHY_REQUEST_ERR");o.appendChild(t)}return o}function h(e,t,n){var r,o=!(!t||!t.length),i=!!n;o&&(r=new RegExp("^("+t.join("|")+")$"));var a=[];return f(new p(e,!1),function(t){if((!o||r.test(t.nodeType))&&(!i||n(t))){var s=e.startContainer;if(t!=s||!W(s)||e.startOffset!=s.length){var c=e.endContainer;t==c&&W(c)&&0==e.endOffset||a.push(t)}}}),a}function g(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+H.inspectNode(e.startContainer)+":"+e.startOffset+", "+H.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&W(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||W(this.sc)?q(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||W(this.ec)?q(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(e){return function(t,n){for(var r,o=n?t:t.parentNode;o;){if(r=o.nodeType,Q(e,r))return o;o=o.parentNode}return null}}function R(e,t){if(oe(e,t))throw new L("INVALID_NODE_TYPE_ERR")}function v(e,t){if(!Q(t,e.nodeType))throw new L("INVALID_NODE_TYPE_ERR")}function C(e,t){if(t<0||t>(W(e)?e.length:e.childNodes.length))throw new L("INDEX_SIZE_ERR")}function N(e,t){if(ne(e,!0)!==ne(t,!0))throw new L("WRONG_DOCUMENT_ERR")}function E(e){if(re(e,!0))throw new L("NO_MODIFICATION_ALLOWED_ERR")}function S(e,t){if(!e)throw new L(t)}function y(e,t){return t<=(W(e)?e.length:e.childNodes.length)}function w(e){return!!e.startContainer&&!!e.endContainer&&!(X&&(H.isBrokenNode(e.startContainer)||H.isBrokenNode(e.endContainer)))&&G(e.startContainer)==G(e.endContainer)&&y(e.startContainer,e.startOffset)&&y(e.endContainer,e.endOffset)}function T(e){if(!w(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function O(e,t){T(e);var n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,a=n===o;W(o)&&i>0&&i<o.length&&V(o,i,t),W(n)&&r>0&&r<n.length&&(n=V(n,r,t),a?(i-=r,o=n):o==n.parentNode&&i>=F(n)&&i++,r=0),e.setStartAndEnd(n,r,o,i)}function _(e){T(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function D(e){e.START_TO_START=de,e.START_TO_END=fe,e.END_TO_END=ue,e.END_TO_START=le,e.NODE_BEFORE=he,e.NODE_AFTER=ge,e.NODE_BEFORE_AND_AFTER=pe,e.NODE_INSIDE=me}function A(e){D(e),D(e.prototype)}function x(e,t){return function(){T(this);var n,r=this.startContainer,o=this.startOffset,i=this.commonAncestorContainer,s=new p(this,!0);r!==i&&(r=(n=a(q(r,i,!0))).node,o=n.offset),f(s,E),s.reset();var c=e(s);return s.detach(),t(this,r,o,r,o),c}}function b(t,r){function o(e,t){return function(n){v(n,$),v(G(n),J);var r=(e?i:a)(n);(t?s:c)(this,r.node,r.offset)}}function s(e,t,n){var o=e.endContainer,i=e.endOffset;t===e.startContainer&&n===e.startOffset||(G(t)==G(o)&&1!=U(t,n,o,i)||(o=t,i=n),r(e,t,n,o,i))}function c(e,t,n){var o=e.startContainer,i=e.startOffset;t===e.endContainer&&n===e.endOffset||(G(t)==G(o)&&-1!=U(t,n,o,i)||(o=t,i=n),r(e,o,i,t,n))}var d=function(){};d.prototype=e.rangePrototype,t.prototype=new d,M.extend(t.prototype,{setStart:function(e,t){R(e,!0),C(e,t),s(this,e,t)},setEnd:function(e,t){R(e,!0),C(e,t),c(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],o=t,i=n;switch(e.length){case 3:i=e[2];break;case 4:o=e[2],i=e[3]}r(this,t,n,o,i)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(e){T(this),e?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){R(e,!0),r(this,e,0,e,Y(e))},selectNode:function(e){R(e,!1),v(e,$);var t=i(e),n=a(e);r(this,t.node,t.offset,n.node,n.offset)},extractContents:x(l,r),deleteContents:x(u,r),canSurroundContents:function(){T(this),E(this.startContainer),E(this.endContainer);var e=new p(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){O(this)},splitBoundariesPreservingPositions:function(e){O(this,e)},normalizeBoundaries:function(){T(this);var e,t=this.startContainer,n=this.startOffset,o=this.endContainer,i=this.endOffset,a=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(o=e,i=e.length,e.appendData(t.data),Z(t))},s=function(e){var r=e.previousSibling;if(r&&r.nodeType==e.nodeType){t=e;var a=e.length;if(n=r.length,e.insertData(0,r.data),Z(r),t==o)i+=n,o=t;else if(o==e.parentNode){var s=F(e);i==s?(o=e,i=a):i>s&&i--}}},c=!0;if(W(o))i==o.length?a(o):0==i&&(e=o.previousSibling)&&e.nodeType==o.nodeType&&(i=e.length,t==o&&(c=!1),e.appendData(o.data),Z(o),o=e);else{if(i>0){var d=o.childNodes[i-1];d&&W(d)&&a(d)}c=!this.collapsed}if(c){if(W(t))0==n?s(t):n==t.length&&(e=t.nextSibling)&&e.nodeType==t.nodeType&&(o==e&&(o=t,i+=t.length),t.appendData(e.data),Z(e));else if(n<t.childNodes.length){var f=t.childNodes[n];f&&W(f)&&s(f)}}else t=o,n=i;r(this,t,n,o,i)},collapseToPoint:function(e,t){R(e,!0),C(e,t),this.setStartAndEnd(e,t)}}),A(t)}function P(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:H.getCommonAncestor(e.startContainer,e.endContainer)}function I(e,t,n,r,o){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=o,e.document=H.getDocument(t),P(e)}function B(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,P(this)}var H=e.dom,M=e.util,k=H.DomPosition,L=e.DOMException,W=H.isCharacterDataNode,F=H.getNodeIndex,j=H.isOrIsAncestorOf,z=H.getDocument,U=H.comparePoints,V=H.splitDataNode,q=H.getClosestAncestorIn,Y=H.getNodeLength,Q=H.arrayContains,G=H.getRootContainer,X=e.features.crashyTextNodes,Z=H.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,W(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!W(n)||n!==this.sc&&n!==this.ec?n.parentNode&&Z(n):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return n(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new B(r(this.range));var t=this._current,n=t,o=0,i=t,a=Y(t);j(t,this.sc)&&(n=this.sc,o=this.so),j(t,this.ec)&&(i=this.ec,a=this.eo),I(e,n,o,i,a)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var $=[1,3,4,5,7,8,10],J=[2,9,11],K=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=m([9,11]),re=m(K),oe=m([6,10,12]),ie=document.createElement("style"),ae=!1;try{ie.innerHTML="<b>x</b>",ae=3==ie.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=ae;var se=ae?function(e){var t=this.startContainer,n=z(t);if(!t)throw new L("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:W(t)&&(r=H.parentElement(t)),r=null===r||"HTML"==r.nodeName&&H.isHtmlNamespace(z(r).documentElement)&&H.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=e,H.fragmentFromNodeChildren(r)}:function(e){var t=r(this).createElement("body");return t.innerHTML=e,H.fragmentFromNodeChildren(t)},ce=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],de=0,fe=1,ue=2,le=3,he=0,ge=1,pe=2,me=3;M.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){T(this),N(this.startContainer,t.startContainer);var n,r,o,i,a=e==le||e==de?"start":"end",s=e==fe||e==de?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],o=t[s+"Container"],i=t[s+"Offset"],U(n,r,o,i)},insertNode:function(e){if(T(this),v(e,ee),E(this.startContainer),j(e,this.startContainer))throw new L("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){T(this);var e,t;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&W(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),(t=r(this).createDocumentFragment()).appendChild(e),t;var n=new p(this,!0);return e=d(n),n.detach(),e},canSurroundContents:function(){T(this),E(this.startContainer),E(this.endContainer);var e=new p(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(v(e,te),!this.canSurroundContents())throw new L("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){T(this);for(var e,t=new B(r(this)),n=ce.length;n--;)t[e=ce[n]]=this[e];return t},toString:function(){T(this);var e=this.startContainer;if(e===this.endContainer&&W(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new p(this,!0);return f(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){T(this);var t=e.parentNode,n=F(e);if(!t)throw new L("NOT_FOUND_ERR");var r=this.comparePoint(t,n),o=this.comparePoint(t,n+1);return r<0?o>0?pe:he:o>0?ge:me},comparePoint:function(e,t){return T(this),S(e,"HIERARCHY_REQUEST_ERR"),N(e,this.startContainer),U(e,t,this.startContainer,this.startOffset)<0?-1:U(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:se,toHtml:function(){return _(this)},intersectsNode:function(e,t){if(T(this),G(e)!=o(this))return!1;var n=e.parentNode,r=F(e);if(!n)return!0;var i=U(n,r,this.endContainer,this.endOffset),a=U(n,r+1,this.startContainer,this.startOffset);return t?i<=0&&a>=0:i<0&&a>0},isPointInRange:function(e,t){return T(this),S(e,"HIERARCHY_REQUEST_ERR"),N(e,this.startContainer),U(e,t,this.startContainer,this.startOffset)>=0&&U(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return c(this,e,!1)},intersectsOrTouchesRange:function(e){return c(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=U(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=U(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==U(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==U(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new L("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==me},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,Y(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return T(this),h(this,e,t)},getDocument:function(){return r(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=r(this),o=e.createRange(n);t=t||H.getBody(n),o.selectNodeContents(t);var i=this.intersection(o),a=0,s=0;return i&&(o.setEnd(i.startContainer,i.startOffset),s=(a=o.toString().length)+i.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,o,i,a,s=[t],c=!1,d=!1;!d&&(r=s.pop());)if(3==r.nodeType)o=n+r.length,!c&&e.start>=n&&e.start<=o&&(this.setStart(r,e.start-n),c=!0),c&&e.end>=n&&e.end<=o&&(this.setEnd(r,e.end-n),d=!0),n=o;else for(i=(a=r.childNodes).length;i--;)s.push(a[i])},getName:function(){return"DomRange"},equals:function(e){return B.rangesEqual(this,e)},isValid:function(){return w(this)},inspect:function(){return g(this)},detach:function(){}}),b(B,I),M.extend(B,{rangeProperties:ce,RangeIterator:p,copyComparisonConstants:A,createPrototypeRange:b,inspect:g,toHtml:_,getRangeDocument:r,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=B}),x.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,o=e.dom,i=e.util,a=o.DomPosition,s=e.DomRange,c=o.getBody,d=o.getContentDocument,f=o.isCharacterDataNode;if(e.features.implementsDomRange&&function(){function r(e){for(var t,n=u.length;n--;)e[t=u[n]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}var a,f,u=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,r(this)},s.createPrototypeRange(n,function(e,t,n,r,o){var i=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=o,s=!e.equals(e.nativeRange);(i||a||s)&&(e.setEnd(r,o),e.setStart(t,n))}),(a=n.prototype).selectNode=function(e){this.nativeRange.selectNode(e),r(this)},a.cloneContents=function(){return this.nativeRange.cloneContents()},a.surroundContents=function(e){this.nativeRange.surroundContents(e),r(this)},a.collapse=function(e){this.nativeRange.collapse(e),r(this)},a.cloneRange=function(){return new n(this.nativeRange.cloneRange())},a.refresh=function(){r(this)},a.toString=function(){return this.nativeRange.toString()};var l=document.createTextNode("test");c(document).appendChild(l);var h=document.createRange();h.setStart(l,0),h.setEnd(l,0);try{h.setStart(l,1),a.setStart=function(e,t){this.nativeRange.setStart(e,t),r(this)},a.setEnd=function(e,t){this.nativeRange.setEnd(e,t),r(this)},f=function(e){return function(t){this.nativeRange[e](t),r(this)}}}catch(e){a.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}r(this)},a.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}r(this)},f=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}r(this)}}}a.setStartBefore=f("setStartBefore","setEndBefore"),a.setStartAfter=f("setStartAfter","setEndAfter"),a.setEndBefore=f("setEndBefore","setStartBefore"),a.setEndAfter=f("setEndAfter","setStartAfter"),a.selectNodeContents=function(e){this.setStartAndEnd(e,0,o.getNodeLength(e))},h.selectNodeContents(l),h.setEnd(l,3);var g=document.createRange();g.selectNodeContents(l),g.setEnd(l,4),g.setStart(l,2),-1==h.compareBoundaryPoints(h.START_TO_END,g)&&1==h.compareBoundaryPoints(h.END_TO_START,g)?a.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:a.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var p=document.createElement("div");p.innerHTML="123";var m=p.firstChild,R=c(document);R.appendChild(p),h.setStart(m,1),h.setEnd(m,2),h.deleteContents(),"13"==m.data&&(a.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},a.extractContents=function(){var e=this.nativeRange.extractContents();return r(this),e}),R.removeChild(p),R=null,i.isHostMethod(h,"createContextualFragment")&&(a.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),c(document).removeChild(l),a.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return(e=d(e,t,"createNativeRange")).createRange()}}(),e.features.implementsTextRange){var u=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();(n=e.duplicate()).collapse(!1);var i=n.parentElement(),a=r==i?r:o.getCommonAncestor(r,i);return a==t?a:o.getCommonAncestor(t,a)},l=function(e){return 0==e.compareEndPoints("StartToEnd",e)},h=function(e,t,n,r,i){var s=e.duplicate();s.collapse(n);var c=s.parentElement();if(o.isOrIsAncestorOf(t,c)||(c=t),!c.canHaveHTML){var d=new a(c.parentNode,o.getNodeIndex(c));return{boundaryPosition:d,nodeInfo:{nodeIndex:d.offset,containerElement:d.node}}}var u=o.getDocument(c).createElement("span");u.parentNode&&o.removeNode(u);for(var l,h,g,p,m,R=n?"StartToStart":"StartToEnd",v=i&&i.containerElement==c?i.nodeIndex:0,C=c.childNodes.length,N=C,E=N;;){if(E==C?c.appendChild(u):c.insertBefore(u,c.childNodes[E]),s.moveToElementText(u),0==(l=s.compareEndPoints(R,e))||v==N)break;if(-1==l){if(N==v+1)break;v=E}else N=N==v+1?v:E;E=Math.floor((v+N)/2),c.removeChild(u)}if(m=u.nextSibling,-1==l&&m&&f(m)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var S;if(/[\r\n]/.test(m.data)){var y=s.duplicate(),w=y.text.replace(/\r\n/g,"\r").length;for(S=y.moveStart("character",w);-1==(l=y.compareEndPoints("StartToEnd",y));)S++,y.moveStart("character",1)}else S=s.text.length;p=new a(m,S)}else h=(r||!n)&&u.previousSibling,p=(g=(r||n)&&u.nextSibling)&&f(g)?new a(g,0):h&&f(h)?new a(h,h.data.length):new a(c,o.getNodeIndex(u));return o.removeNode(u),{boundaryPosition:p,nodeInfo:{nodeIndex:E,containerElement:c}}},g=function(e,t){var n,r,i,a,s=e.offset,d=o.getDocument(e.node),u=c(d).createTextRange(),l=f(e.node);return l?r=(n=e.node).parentNode:(n=s<(a=e.node.childNodes).length?a[s]:null,r=e.node),i=d.createElement("span"),i.innerHTML="&#feff;",n?r.insertBefore(i,n):r.appendChild(i),u.moveToElementText(i),u.collapse(!t),r.removeChild(i),l&&u[t?"moveStart":"moveEnd"]("character",s),u};(r=function(e){this.textRange=e,this.refresh()}).prototype=new s(document),r.prototype.refresh=function(){var e,t,n,r=u(this.textRange);l(this.textRange)?t=e=h(this.textRange,r,!0,!0).boundaryPosition:(e=(n=h(this.textRange,r,!0,!1)).boundaryPosition,t=h(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var p=function(e){if(e.collapsed)return g(new a(e.startContainer,e.startOffset),!0);var t=g(new a(e.startContainer,e.startOffset),!0),n=g(new a(e.endContainer,e.endOffset),!1),r=c(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=p,r.prototype.toTextRange=function(){return p(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var m=Function("return this;")();void 0===m.Range&&(m.Range=r),e.createNativeRange=function(e){return e=d(e,t,"createNativeRange"),c(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=d(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=d(e,t,"createRangyRange"),new s(e)},i.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),i.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),x.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function r(e,n){if(e){if(T.isWindow(e))return e;if(e instanceof m)return e.win;var r=T.getContentDocument(e,t,n);return T.getWindow(r)}return window}function o(e){return r(e,"getDocSelection").document.selection}function i(e){var t=!1;return e.anchorNode&&(t=1==T.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function a(e,t,n){var r=n?"end":"start",o=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function s(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function c(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function d(t){var n;return t instanceof D?((n=e.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof A?n=t.nativeRange:P.implementsDomRange&&t instanceof T.getWindow(t.startContainer).Range&&(n=t),n}function f(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!T.isAncestorOf(e[0],e[t]))return!1;return!0}function u(e){var n=e.getNodes();if(!f(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function l(e){return!!e&&void 0!==e.text}function h(e,t){var n=new A(t);e._ranges=[n],a(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function g(t){if(t._ranges.length=0,"None"==t.docSelection.type)c(t);else{var n=t.docSelection.createRange();if(l(n))h(t,n);else{t.rangeCount=n.length;for(var r,o=I(n.item(0)),i=0;i<t.rangeCount;++i)(r=e.createRange(o)).selectNode(n.item(i)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,a(t,t._ranges[t.rangeCount-1],!1)}}}function p(e,n){for(var r=e.docSelection.createRange(),o=u(n),i=I(r.item(0)),a=B(i).createControlRange(),s=0,c=r.length;s<c;++s)a.add(r.item(s));try{a.add(o)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),g(e)}function m(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function R(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function v(e,t){for(var n,r,o=$.length;o--;)if(n=$[o],r=n.selection,"deleteAll"==t)R(r);else if(n.win==e)return"delete"==t?($.splice(o,1),!0):r;return"deleteAll"==t&&($.length=0),null}function C(e,n){for(var r,o=I(n[0].startContainer),i=B(o).createControlRange(),a=0,s=n.length;a<s;++a){r=u(n[a]);try{i.add(r)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),g(e)}function N(e,t){if(e.win.document!=I(t))throw new x("WRONG_DOCUMENT_ERR")}function E(t){return function(n,r){var o;this.rangeCount?(o=this.getRangeAt(0))["set"+(t?"Start":"End")](n,r):(o=e.createRange(this.win.document)).setStartAndEnd(n,r),this.setSingleRange(o,this.isBackward())}}function S(e){var t=[],n=new b(e.anchorNode,e.anchorOffset),r=new b(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var i=0,a=e.rangeCount;i<a;++i)t[i]=D.inspect(e.getRangeAt(i));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}e.config.checkSelectionRanges=!0;var y,w,T=e.dom,O=e.util,_=O.isHostMethod,D=e.DomRange,A=e.WrappedRange,x=e.DOMException,b=T.DomPosition,P=e.features,I=T.getDocument,B=T.getBody,H=D.rangesEqual,M=_(window,"getSelection"),k=O.isHostObject(document,"selection");P.implementsWinGetSelection=M,P.implementsDocSelection=k;var L=k&&(!M||e.config.preferTextRange);if(L)y=o,e.isSelectionValid=function(e){var t=r(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||I(n.createRange().parentElement())==t};else{if(!M)return t.fail("Neither document.selection or window.getSelection() detected."),!1;y=function(e){return r(e,"getWinSelection").getSelection()},e.isSelectionValid=function(){return!0}}e.getNativeSelection=y;var W=y();if(!W)return t.fail("Native selection was null (possibly issue 138?)"),!1;var F=e.createNativeRange(document),j=B(document),z=O.areHostProperties(W,["anchorNode","focusNode","anchorOffset","focusOffset"]);P.selectionHasAnchorAndFocus=z;var U=_(W,"extend");P.selectionHasExtend=U;var V="number"==typeof W.rangeCount;P.selectionHasRangeCount=V;var q=!1,Y=!0,Q=U?function(t,n){var r=D.getRangeDocument(n),o=e.createRange(r);o.collapseToPoint(n.endContainer,n.endOffset),t.addRange(d(o)),t.extend(n.startContainer,n.startOffset)}:null;O.areHostMethods(W,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof W.rangeCount&&P.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,o=[],a=i(t),s=0;s<n;++s)o[s]=t.getRangeAt(s);var c=T.createTestElement(document,"",!1),d=c.appendChild(document.createTextNode("   ")),f=document.createRange();if(f.setStart(d,1),f.collapse(!0),t.removeAllRanges(),t.addRange(f),Y=1==t.rangeCount,t.removeAllRanges(),!r){var u=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(u&&parseInt(u[1])>=36)q=!1;else{var l=f.cloneRange();f.setStart(d,0),l.setEnd(d,3),l.setStart(d,2),t.addRange(f),t.addRange(l),q=2==t.rangeCount}}for(T.removeNode(c),t.removeAllRanges(),s=0;s<n;++s)0==s&&a?Q?Q(t,o[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(o[s])):t.addRange(o[s])}}(),P.selectionSupportsMultipleRanges=q,P.collapsedNonEditableSelectionsSupported=Y;var G,X=!1;j&&_(j,"createControlRange")&&(G=j.createControlRange(),O.areHostProperties(G,["item","add"])&&(X=!0)),P.implementsControlRange=X,w=z?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var Z;_(W,"getRangeAt")?Z=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:z&&(Z=function(t){var n=I(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),m.prototype=e.selectionPrototype;var $=[],J=function(e){if(e&&e instanceof m)return e.refresh(),e;var t=v(e=r(e,"getNativeSelection")),n=y(e),i=k?o(e):null;return t?(t.nativeSelection=n,t.docSelection=i,t.refresh()):(t=new m(n,i,e),$.push({win:e,selection:t})),t};e.getSelection=J,O.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var K=m.prototype;if(!L&&z&&O.areHostMethods(W,["removeAllRanges","addRange"])){K.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)};var ee=function(e,t){Q(e.nativeSelection,t),e.refresh()};K.addRange=V?function(t,r){if(X&&k&&"Control"==this.docSelection.type)p(this,t);else if(n(r)&&U)ee(this,t);else{var o;q?o=this.rangeCount:(this.removeAllRanges(),o=0);var i=d(t).cloneRange();try{this.nativeSelection.addRange(i)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(e.config.checkSelectionRanges){var s=Z(this.nativeSelection,this.rangeCount-1);s&&!H(s,t)&&(t=new A(s))}this._ranges[this.rangeCount-1]=t,a(this,t,re(this.nativeSelection)),this.isCollapsed=w(this)}else this.refresh()}}:function(e,t){n(t)&&U?ee(this,e):(this.nativeSelection.addRange(d(e)),this.refresh())},K.setRanges=function(e){if(X&&k&&e.length>1)C(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(_(W,"empty")&&_(F,"select")&&X&&L))return t.fail("No means of selecting a Range or TextRange was found"),!1;K.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=I(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=I(t.item(0)))}e&&(B(e).createTextRange().select(),this.docSelection.empty())}}catch(e){}c(this)},K.addRange=function(t){"Control"==this.docSelection.type?p(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,t,!1))},K.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?C(this,e):t&&this.addRange(e[0])}}K.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new x("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var te;if(L)te=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=B(t.win.document).createTextRange()).collapse(!0),"Control"==t.docSelection.type?g(t):l(n)?h(t,n):c(t)};else if(_(W,"getRangeAt")&&"number"==typeof W.rangeCount)te=function(t){if(X&&k&&"Control"==t.docSelection.type)g(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,r=t.rangeCount;n<r;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));a(t,t._ranges[t.rangeCount-1],re(t.nativeSelection)),t.isCollapsed=w(t)}else c(t)};else{if(!z||"boolean"!=typeof W.isCollapsed||"boolean"!=typeof F.collapsed||!P.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;te=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=Z(n,0),e._ranges=[t],e.rangeCount=1,s(e),e.isCollapsed=w(e)):c(e)}}K.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(te(this),e){var o=t.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;o--;)if(!H(t[o],this._ranges[o]))return!0;return!1}};var ne=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,o=n.length;r<o;++r)H(t,n[r])||e.addRange(n[r]);e.rangeCount||c(e)};K.removeRange=X&&k?function(e){if("Control"==this.docSelection.type){for(var t=this.docSelection.createRange(),n=u(e),r=I(t.item(0)),o=B(r).createControlRange(),i=!1,a=0,s=t.length;a<s;++a)t.item(a)!==n||i?o.add(t.item(a)):i=!0;o.select(),g(this)}else ne(this,e)}:function(e){ne(this,e)};var re;!L&&z&&P.implementsDomRange?(re=i,K.isBackward=function(){return re(this)}):re=K.isBackward=function(){return!1},K.isBackwards=K.isBackward,K.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},K.collapse=function(t,n){N(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},K.collapseToStart=function(){if(!this.rangeCount)throw new x("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},K.collapseToEnd=function(){if(!this.rangeCount)throw new x("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},K.selectAllChildren=function(t){N(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},K.deleteFromDocument=function(){if(X&&k&&"Control"==this.docSelection.type){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),T.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,o=n.length;r<o;++r)n[r].deleteContents();this.addRange(n[o-1])}}},K.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},K.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},K.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},K.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t||[]))}),n},K.setStart=E(!0),K.setEnd=E(!1),e.rangePrototype.select=function(e){J(this.getDocument()).setSingleRange(this,e)},K.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},K.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},K.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},K.moveToBookmark=function(t){for(var n,r,o=[],i=0;n=t.rangeBookmarks[i++];)(r=e.createRange(this.win)).moveToBookmark(n),o.push(r);t.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},K.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},K.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},K.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(D.toHtml(t))}),e.join("")},P.implementsTextRange&&(K.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(l(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),K.getName=function(){return"WrappedSelection"},K.inspect=function(){return S(this)},K.detach=function(){v(this.win,"delete"),R(this)},m.detachAll=function(){v(null,"deleteAll")},m.inspect=S,m.isDirectionBackward=n,e.Selection=m,e.selectionPrototype=K,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return J(e)}),e=null})});var H=!1,M=function(e){H||(H=!0,!x.initialized&&x.config.autoInitialize&&f())};return D&&("complete"==document.readyState?M():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",M,!1),P(window,"load",M))),x},this);
!function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("ClassApplier",["WrappedSelection"],function(e,t){function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))return!1;return!0}function s(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function r(e,t){return!!e&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e)}function o(e,t){return"object"==typeof e.classList?e.classList.contains(t):r("string"==typeof e.className?e.className:e.getAttribute("class"),t)}function a(e,t){if("object"==typeof e.classList)e.classList.add(t);else{var n="string"==typeof e.className,s=n?e.className:e.getAttribute("class");s?r(s,t)||(s+=" "+t):s=t,n?e.className=s:e.setAttribute("class",s)}}function l(e){return"string"==typeof e.className?e.className:e.getAttribute("class")}function u(e){return e&&e.split(/\s+/).sort().join(" ")}function f(e){return u(l(e))}function c(e,t){return f(e)==f(t)}function p(e,t){for(var n=t.split(/\s+/),i=0,r=n.length;i<r;++i)if(!o(e,s(n[i])))return!1;return!0}function d(e){var t=e.parentNode;return t&&1==t.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(t.nodeName)}function h(e,t,n,s,i){var r=e.node,o=e.offset,a=r,l=o;r==s&&o>i&&++l,r!=t||o!=n&&o!=n+1||(a=s,l+=i-n),r==t&&o>n+1&&--l,e.node=a,e.offset=l}function m(e,t,n){e.node==t&&e.offset>n&&--e.offset}function g(e,t,n,s){-1==n&&(n=t.childNodes.length);var i=e.parentNode,r=j.getNodeIndex(e);D(s,function(e){h(e,i,r,t,n)}),t.childNodes.length==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n])}function N(e,t){var n=e.parentNode,s=j.getNodeIndex(e);D(t,function(e){m(e,n,s)}),j.removeNode(e)}function v(e,t,n,s,i){for(var r,o=[];r=e.firstChild;)g(r,t,n++,i),o.push(r);return s&&N(e,i),o}function y(e,t){return v(e,e.parentNode,j.getNodeIndex(e),!0,t)}function C(e,t){var n=e.cloneRange();n.selectNodeContents(t);var s=n.intersection(e);return""!=(s?s.toString():"")}function T(e){for(var t,n=e.getNodes([3]),s=0;(t=n[s])&&!C(e,t);)++s;for(var i=n.length-1;(t=n[i])&&!C(e,t);)--i;return n.slice(s,i+1)}function E(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,s,i,r=0,o=e.attributes.length;r<o;++r)if(n=e.attributes[r],"class"!=(i=n.name)){if(s=t.attributes.getNamedItem(i),null===n!=(null===s))return!1;if(n.specified!=s.specified)return!1;if(n.specified&&n.nodeValue!==s.nodeValue)return!1}return!0}function b(e,t){for(var n,s=0,i=e.attributes.length;s<i;++s)if(n=e.attributes[s].name,(!t||!z(t,n))&&e.attributes[s].specified&&"class"!=n)return!0;return!1}function A(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||q(e)&&!q(e.parentNode))}function S(e){return(q(e)||1!=e.nodeType&&q(e.parentNode))&&!A(e)}function x(e){return e&&1==e.nodeType&&!F.test(k(e,"display"))}function R(e){if(0==e.data.length)return!0;if(G.test(e.data))return!1;switch(k(e.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return x(e.previousSibling)||x(e.nextSibling)}function P(e){var t,n,s=[];for(t=0;n=e[t++];)s.push(new $(n.startContainer,n.startOffset),new $(n.endContainer,n.endOffset));return s}function w(e,t){for(var n,s,i,r=0,o=e.length;r<o;++r)n=e[r],s=t[2*r],i=t[2*r+1],n.setStartAndEnd(s.node,s.offset,i.node,i.offset)}function O(e,t){return j.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:t>0&&t<e.childNodes.length}function I(e,n,s,i){var r,o,a=0==s;if(j.isAncestorOf(n,e))return e;if(j.isCharacterDataNode(n)){var l=j.getNodeIndex(n);if(0==s)s=l;else{if(s!=n.length)throw t.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+s+" in "+n.data);s=l+1}n=n.parentNode}if(O(n,s)){r=n.cloneNode(!1),o=n.parentNode,r.id&&r.removeAttribute("id");for(var u,f=0;u=n.childNodes[s];)g(u,r,f++,i);return g(r,o,j.getNodeIndex(n)+1,i),n==e?r:I(e,o,j.getNodeIndex(r),i)}if(e!=n){r=n.parentNode;var c=j.getNodeIndex(n);return a||c++,I(e,r,c,i)}return e}function W(e,t){return e.namespaceURI==t.namespaceURI&&e.tagName.toLowerCase()==t.tagName.toLowerCase()&&c(e,t)&&E(e,t)&&"inline"==k(e,"display")&&"inline"==k(t,"display")}function L(e){var t=e?"nextSibling":"previousSibling";return function(n,s){var i=n.parentNode,r=n[t];if(r){if(r&&3==r.nodeType)return r}else if(s&&(r=i[t])&&1==r.nodeType&&W(i,r)){var o=r[e?"firstChild":"lastChild"];if(o&&3==o.nodeType)return o}return null}}function M(e){this.isElementMerge=1==e.nodeType,this.textNodes=[];var t=this.isElementMerge?e.lastChild:e;t&&(this.textNodes[0]=t)}function H(e,t,i){var r,o,a,l,f=this;f.cssClass=f.className=e;var c=null,p={};if("object"==typeof t&&null!==t){for(void 0!==t.elementTagName&&(t.elementTagName=t.elementTagName.toLowerCase()),i=t.tagNames,c=t.elementProperties,p=t.elementAttributes,o=0;l=Q[o++];)t.hasOwnProperty(l)&&(f[l]=t[l]);r=t.normalize}else r=t;f.normalize=void 0===r||r,f.attrExceptions=[];var d=document.createElement(f.elementTagName);f.elementProperties=f.copyPropertiesToElement(c,d,!0),n(p,function(e,t){f.attrExceptions.push(e),p[e]=""+t}),f.elementAttributes=p,f.elementSortedClassName=f.elementProperties.hasOwnProperty("className")?u(f.elementProperties.className+" "+e):e,f.applyToAnyTagName=!1;var h=typeof i;if("string"==h)"*"==i?f.applyToAnyTagName=!0:f.tagNames=s(i.toLowerCase()).split(/\s*,\s*/);else if("object"==h&&"number"==typeof i.length)for(f.tagNames=[],o=0,a=i.length;o<a;++o)"*"==i[o]?f.applyToAnyTagName=!0:f.tagNames.push(i[o].toLowerCase());else f.tagNames=[f.elementTagName]}var j=e.dom,$=j.DomPosition,z=j.arrayContains,B=e.util,D=B.forEach,U=B.isHostMethod(document,"createElementNS"),V=function(){function e(e,t,n){return t&&n?" ":""}return function(t,n){if("object"==typeof t.classList)t.classList.remove(n);else{var s="string"==typeof t.className,i=s?t.className:t.getAttribute("class");i=i.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),e),s?t.className=i:t.setAttribute("class",i)}}}(),k=j.getComputedStyleProperty,q="boolean"==typeof document.createElement("div").isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return!(!e||1!=e.nodeType||"false"==e.contentEditable)&&("true"==e.contentEditable||q(e.parentNode))},F=/^inline(-block|-table)?$/i,G=/[^\r\n\t\f \u200B]/,J=L(!1),K=L(!0);M.prototype={doMerge:function(e){var t=this.textNodes,n=t[0];if(t.length>1){var s,i=j.getNodeIndex(n),r=[],o=0;D(t,function(t,a){s=t.parentNode,a>0&&(s.removeChild(t),s.hasChildNodes()||j.removeNode(s),e&&D(e,function(e){e.node==t&&(e.node=n,e.offset+=o),e.node==s&&e.offset>i&&(--e.offset,e.offset==i+1&&a<len-1&&(e.node=n,e.offset=o))})),r[a]=t.data,o+=t.data.length}),n.data=r.join("")}return n.data},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var e=[];return D(this.textNodes,function(t,n){e[n]="'"+t.data+"'"}),"[Merge("+e.join(",")+")]"}};var Q=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],X={};H.prototype={elementTagName:"span",elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(e,t,n){var s,i,r,o,l,f,c={};for(var p in e)if(e.hasOwnProperty(p))if(o=e[p],l=t[p],"className"==p)a(t,o),a(t,this.className),t[p]=u(t[p]),n&&(c[p]=o);else if("style"==p){i=l,n&&(c[p]=r={});for(s in e[p])e[p].hasOwnProperty(s)&&(i[s]=o[s],n&&(r[s]=i[s]));this.attrExceptions.push(p)}else t[p]=o,n&&(c[p]=t[p],f=X.hasOwnProperty(p)?X[p]:p,this.attrExceptions.push(f));return n?c:""},copyAttributesToElement:function(e,t){for(var n in e)e.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&t.setAttribute(n,e[n])},appliesToElement:function(e){return z(this.tagNames,e.tagName.toLowerCase())},getEmptyElements:function(e){var t=this;return e.getNodes([1],function(e){return t.appliesToElement(e)&&!e.hasChildNodes()})},hasClass:function(e){return 1==e.nodeType&&(this.applyToAnyTagName||this.appliesToElement(e))&&o(e,this.className)},getSelfOrAncestorWithClass:function(e){for(;e;){if(this.hasClass(e))return e;e=e.parentNode}return null},isModifiable:function(e){return!this.applyToEditableOnly||S(e)},isIgnorableWhiteSpaceNode:function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&R(e)},postApply:function(e,t,n,s){var r,o,a=e[0],l=e[e.length-1],u=[],f=a,c=l,p=0,d=l.length;D(e,function(e){(o=J(e,!s))?(r||(r=new M(o),u.push(r)),r.textNodes.push(e),e===a&&(f=r.textNodes[0],p=f.length),e===l&&(c=r.textNodes[0],d=r.getLength())):r=null});var h=K(l,!s);if(h&&(r||(r=new M(l),u.push(r)),r.textNodes.push(h)),u.length){for(i=0,len=u.length;i<len;++i)u[i].doMerge(n);t.setStartAndEnd(f,p,c,d)}},createContainer:function(e){var t,n=j.getDocument(e),s=U&&!j.isHtmlNamespace(e)&&(t=e.namespaceURI)?n.createElementNS(e.namespaceURI,this.elementTagName):n.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,s,!1),this.copyAttributesToElement(this.elementAttributes,s),a(s,this.className),this.onElementCreate&&this.onElementCreate(s,this),s},elementHasProperties:function(e,t){var s=this;return n(t,function(t,n){if("className"==t)return p(e,n);if("object"==typeof n){if(!s.elementHasProperties(e[t],n))return!1}else if(e[t]!==n)return!1})},elementHasAttributes:function(e,t){return n(t,function(t,n){if(e.getAttribute(t)!==n)return!1})},applyToTextNode:function(e,t){if(d(e)){var n=e.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))a(n,this.className);else{var s=e.parentNode,i=this.createContainer(s);s.insertBefore(i,e),i.appendChild(e)}}},isRemovable:function(e){return e.tagName.toLowerCase()==this.elementTagName&&f(e)==this.elementSortedClassName&&this.elementHasProperties(e,this.elementProperties)&&!b(e,this.attrExceptions)&&this.elementHasAttributes(e,this.elementAttributes)&&this.isModifiable(e)},isEmptyContainer:function(e){var t=e.childNodes.length;return 1==e.nodeType&&this.isRemovable(e)&&(0==t||1==t&&this.isEmptyContainer(e.firstChild))},removeEmptyContainers:function(e){var t=this,n=e.getNodes([1],function(e){return t.isEmptyContainer(e)}),s=[e],i=P(s);D(n,function(e){N(e,i)}),w(s,i)},undoToTextNode:function(e,t,n,s){if(!t.containsNode(n)){var i=t.cloneRange();i.selectNode(n),i.isPointInRange(t.endContainer,t.endOffset)&&(I(n,t.endContainer,t.endOffset,s),t.setEndAfter(n)),i.isPointInRange(t.startContainer,t.startOffset)&&(n=I(n,t.startContainer,t.startOffset,s))}this.isRemovable(n)?y(n,s):V(n,this.className)},splitAncestorWithClass:function(e,t,n){var s=this.getSelfOrAncestorWithClass(e);s&&I(s,e,t,n)},undoToAncestor:function(e,t){this.isRemovable(e)?y(e,t):V(e,this.className)},applyToRange:function(e,t){var n=this,s=P((t=t||[])||[]);e.splitBoundariesPreservingPositions(s),n.removeEmptyElements&&n.removeEmptyContainers(e);var i=T(e);if(i.length){D(i,function(e){n.isIgnorableWhiteSpaceNode(e)||n.getSelfOrAncestorWithClass(e)||!n.isModifiable(e)||n.applyToTextNode(e,s)});var r=i[i.length-1];e.setStartAndEnd(i[0],0,r,r.length),n.normalize&&n.postApply(i,e,s,!1),w(t,s)}var o=n.getEmptyElements(e);D(o,function(e){a(e,n.className)})},applyToRanges:function(e){for(var t=e.length;t--;)this.applyToRange(e[t],e);return e},applyToSelection:function(t){var n=e.getSelection(t);n.setRanges(this.applyToRanges(n.getAllRanges()))},undoToRange:function(e,t){var n=this,s=P(t=t||[]);e.splitBoundariesPreservingPositions(s),n.removeEmptyElements&&n.removeEmptyContainers(e,s);var i,r,o=T(e),a=o[o.length-1];if(o.length){n.splitAncestorWithClass(e.endContainer,e.endOffset,s),n.splitAncestorWithClass(e.startContainer,e.startOffset,s);for(var l=0,u=o.length;l<u;++l)i=o[l],(r=n.getSelfOrAncestorWithClass(i))&&n.isModifiable(i)&&n.undoToAncestor(r,s);e.setStartAndEnd(o[0],0,a,a.length),n.normalize&&n.postApply(o,e,s,!0),w(t,s)}var f=n.getEmptyElements(e);D(f,function(e){V(e,n.className)})},undoToRanges:function(e){for(var t=e.length;t--;)this.undoToRange(e[t],e);return e},undoToSelection:function(t){var n=e.getSelection(t),s=e.getSelection(t).getAllRanges();this.undoToRanges(s),n.setRanges(s)},isAppliedToRange:function(e){if(e.collapsed||""==e.toString())return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);var t=e.getNodes([3]);if(t.length)for(var n,s=0;n=t[s++];)if(!this.isIgnorableWhiteSpaceNode(n)&&C(e,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(e){var t=e.length;if(0==t)return!1;for(;t--;)if(!this.isAppliedToRange(e[t]))return!1;return!0},isAppliedToSelection:function(t){var n=e.getSelection(t);return this.isAppliedToRanges(n.getAllRanges())},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},toggleSelection:function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},getElementsWithClassIntersectingRange:function(e){var t=[],n=this;return e.getNodes([3],function(e){var s=n.getSelfOrAncestorWithClass(e);s&&!z(t,s)&&t.push(s)}),t},detach:function(){}},H.util={hasClass:o,addClass:a,removeClass:V,getClass:l,hasSameClasses:c,hasAllClasses:p,replaceWithOwnChildren:y,elementsHaveSameNonClassAttributes:E,elementHasNonClassAttributes:b,splitNodeAt:I,isEditableElement:q,isEditingHost:A,isEditable:S},e.CssClassApplier=e.ClassApplier=H,e.createClassApplier=function(e,t,n){return new H(e,t,n)},B.createAliasForDeprecatedMethod(e,"createCssClassApplier","createClassApplier",t)}),e},this);
new FontFace("Flow Circular","url(data:font/woff2;base64,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)").load().then(f=>document.fonts.add(f))
document.head.insertAdjacentHTML("beforeend",`<style>.rdctd,.rdctd *:not(.fa):not(.material-icons){font-family:'Flow Circular'!important}</style>`);
rangy.init();
let applier = rangy.createClassApplier("rdctd");
function redact(){
  applier.toggleSelection()
}
GM_registerMenuCommand("Redact", redact)
